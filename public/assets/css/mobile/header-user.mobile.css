/* Header User - Mobile only (non tocca il desktop) */
@media (max-width: 768px){

  /* Nascondi sub-header su mobile */
  .subhdr{ display:none !important; }

  /* Header bar compatta: logo a sx, azioni a dx */
  .hdr__bar{
    display:flex; align-items:center; justify-content:space-between;
    min-height:56px;
  }

  /* Sezione destra dell'header: teniamo solo ciò che serve */
  .hdr__right{
    display:flex; align-items:center; gap:10px; margin-left:auto;
  }
  /* Nascondi elementi non desiderati in header mobile */
  .hdr__right .pill-balance,
  .hdr__right a[href*="logout"],
  .hdr__right .logout,
  .hdr__right .hdr__msg,
  .hdr__right a[href*="messag"]{
    display:none !important;
  }
  /* Mantieni visibili 'Ricarica' e utente */
  .hdr__right a[href*="ricar"]{ display:inline-flex !important; }
  .hdr__right .hdr__usr{ display:inline-flex !important; align-items:center; gap:8px; }

  /* Hamburger rotondo (coerente col guest) */
  #mbl-userBtn{
    display:inline-flex; align-items:center; justify-content:center;
    width:42px; height:42px; border-radius:9999px;
    border:1px solid var(--c-border,#1e293b);
    background:var(--c-bg-2,#0f172a); color:var(--c-text,#fff);
    -webkit-tap-highlight-color:transparent;
  }
  #mbl-userBtn svg{ width:22px; height:22px; }

  /* Backdrop: completamente nascosto quando [hidden] */
  #mbl-userBackdrop[hidden]{ display:none !important; }
  #mbl-userBackdrop{
    position:fixed; inset:0; background:rgba(0,0,0,.45);
    backdrop-filter:saturate(120%) blur(1px);
    opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:70;
  }
  #mbl-userBackdrop.mbl-open{ opacity:1; pointer-events:auto; }

  /* Drawer destro */
  #mbl-userDrawer{
    position:fixed; top:0; right:0; height:100dvh; width:320px; max-width:92vw;
    transform:translateX(105%); transition:transform .24s ease;
    background:var(--c-bg,#0b1220); color:var(--c-text,#fff);
    border-left:1px solid var(--c-border,rgba(255,255,255,.08)); z-index:71;
    display:flex; flex-direction:column;
  }
  #mbl-userDrawer.mbl-open{ transform:translateX(0); }

  /* Head drawer */
  #mbl-userDrawer .mbl-head{
    display:flex; align-items:center; gap:10px;
    padding:14px; border-bottom:1px solid var(--c-border,rgba(255,255,255,.08));
  }
  #mbl-userDrawer .mbl-title{ font-weight:900; font-size:16px; }
  #mbl-userDrawer .mbl-close{
    margin-left:auto; width:42px; height:42px; border-radius:9999px;
    border:1px solid var(--c-border,rgba(255,255,255,.12));
    background:var(--c-bg-2,#0f172a); color:var(--c-text,#fff);
    display:inline-flex; align-items:center; justify-content:center;
  }
  #mbl-userDrawer .mbl-close svg{ width:22px; height:22px; }

  /* Corpo scrollabile */
  #mbl-userDrawer .mbl-scroll{ flex:1; overflow:auto; }
  #mbl-userDrawer .mbl-sec{ padding:12px 12px 6px; }
  #mbl-userDrawer .mbl-sec__title{
    font-size:12px; font-weight:900; color:var(--c-muted,#9fb7ff);
    letter-spacing:.3px; padding:2px 6px 8px; text-transform:uppercase;
  }

  /* Liste link */
  #mbl-userDrawer .mbl-list{ list-style:none; margin:0; padding:0; }
  #mbl-userDrawer .mbl-list li{ margin:0; }
  #mbl-userDrawer .mbl-list a{
    display:block; padding:12px 8px; border-radius:8px;
    text-decoration:none; color:var(--c-text,#e5e7eb); font-weight:800;
  }

  /* ArenaCoins: label + valore + refresh piccolo a dx */
  .mbl-ac-line{
    display:flex; align-items:center; gap:10px; padding:6px 2px;
  }
  .mbl-ac-line .k{ min-width:110px; color:var(--c-muted,#9fb7ff); font-weight:900; }
  .mbl-ac-line .v{ font-weight:900; font-size:16px; }
  .mbl-ac-refresh{
    margin-left:auto; display:inline-flex; align-items:center; justify-content:center;
    width:28px; height:28px; border-radius:9999px;
    border:1px solid var(--c-border,rgba(255,255,255,.12));
    background:var(--c-bg-2,#0f172a); color:var(--c-text,#fff);
  }
  .mbl-ac-refresh svg{ width:16px; height:16px; }

  /* Utente: avatar + username + icona messaggi a destra */
  .mbl-user-line{
    display:flex; align-items:center; gap:10px; padding:6px 2px;
  }
  .mbl-user-line .k{ min-width:110px; color:var(--c-muted,#9fb7ff); font-weight:900; }
  .mbl-user-line .userwrap{ display:flex; align-items:center; gap:8px; min-width:0; }
  .mbl-user-line .userwrap .username{ font-weight:900; }
  .mbl-msg-btn{
    margin-left:auto; display:inline-flex; align-items:center; justify-content:center;
    width:36px; height:36px; border-radius:9999px;
    border:1px solid var(--c-border,rgba(255,255,255,.12));
    background:var(--c-bg-2,#0f172a); color:var(--c-text,#fff);
  }
  .mbl-msg-btn svg{ width:18px; height:18px; }

  /* CTA */
  .mbl-ctaRow{ display:flex; gap:8px; padding:8px 6px 0; flex-wrap:wrap; }
  .mbl-cta, .mbl-ghost{
    display:inline-flex; align-items:center; justify-content:center; height:40px; padding:0 16px;
    border-radius:9999px; font-weight:800; text-decoration:none; white-space:nowrap;
  }
  .mbl-cta{
    background:var(--c-primary,#3b82f6); color:#fff;
    border:1px solid color-mix(in lab, var(--c-primary,#3b82f6) 85%, #000);
  }
  .mbl-ghost{
    background:transparent; color:var(--c-text,#e5e7eb); border:1px solid var(--c-border,#1f2937);
  }

  /* lock scroll durante l’apertura */
  html.mbl-lock, body.mbl-lock{ overflow:hidden !important; }
}

/* Desktop: layer invisibile */
@media (min-width: 769px){
  #mbl-userBtn, #mbl-userBackdrop, #mbl-userDrawer{ display:none !important; }
}
