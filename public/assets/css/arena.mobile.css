/* =========================================================================
   Arena Mobile CSS — unico foglio per tutto il progetto (max-width:768px)
   Non tocca il desktop: TUTTO è dentro @media.
   - Nasconde sub-header e footer
   - Card/KPI/Buttons dimensionati per 320–768
   - Tabelle → card (es. /premi.php)
   - Torneo Flash: KPI 2×2, bottoni dentro card, eventi con pulsanti sotto
   - Modali full-screen su mobile
   ========================================================================= */

@media (max-width:768px){

  /* ------------------ Tokens & base ------------------ */
  :root{
    --mbl-gap: 12px;
    --mbl-radius: 14px;
    --mbl-touch: 44px;
  }
  html, body{ overscroll-behavior-y: none; }
  main{ padding-bottom: 20px; }

  /* ------------------ Header ------------------ */
  .subhdr, .site-footer{ display:none !important; }      /* chiesto esplicitamente */
  .hdr__bar{
    display:flex; align-items:center; gap:10px;
    min-height:56px;
  }
  /* Mantieni avatar + username + hamburger a destra; gli altri bottoni via JS sono già nel menu */
  .hdr__right > *:not(.hdr__usr){ display:none !important; }

  /* Hamburger generico (qualsiasi di questi selettori) */
  #mbl-trigger, .js-hamburger, .hdr__burger, .hdr__menu-btn{
    display:inline-flex; align-items:center; justify-content:center;
    width:40px; height:40px; border-radius:10px;
    border:1px solid var(--c-border, #1e293b);
    background:var(--c-bg-2, #0f172a); color:var(--c-text, #fff);
  }
  #mbl-trigger svg, .js-hamburger svg, .hdr__burger svg, .hdr__menu-btn svg{ width:20px; height:20px; }

  /* ------------------ Card & KPI ------------------ */
  .card, .tcard, .panel, .box, [class*="card"]{
    border-radius: var(--mbl-radius);
  }
  /* Mini KPI (box interni nei “hero”) */
  .mbl-kpi-grid{
    display:grid; grid-template-columns:1fr 1fr; gap:10px;
  }
  .mbl-kpi{ min-width:0; }

  /* Bottoni “Acquista/Disiscrivi” dentro hero, su una riga (o due se serve) */
  .mbl-hero-actions{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
  .mbl-hero-actions .btn{ flex:1 1 48%; min-height: var(--mbl-touch); }

  /* Qualsiasi elemento marcato come “fisso” da JS torna statico (niente float/assoluti) */
  .mbl-fix-static{ position:static !important; float:none !important; }

  /* ------------------ Eventi Torneo (soprattutto FLASH) ------------------ */
  /* Il contenitore dell’evento marcato da JS con .mbl-event si spezza in due righe:
     - riga 1: ovale match (nomi squadre)
     - riga 2: tre pulsanti */
  [data-path^="flash/torneo"], [data-path*="flash/torneo"]{
    /* tag pagina: set da PHP o da JS */
  }
  [data-path^="flash/torneo"] .mbl-event,
  [data-path*="flash/torneo"] .mbl-event{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:10px;
    align-items:center;
  }
  [data-path^="flash/torneo"] .mbl-event .mbl-oval,
  [data-path*="flash/torneo"] .mbl-event .mbl-oval{
    grid-column: 1 / -1;              /* ovale sempre sopra */
  }
  [data-path^="flash/torneo"] .mbl-event .mbl-bet,
  [data-path*="flash/torneo"] .mbl-event .mbl-bet{
    width:100%;
    min-height: var(--mbl-touch);
  }
  @media (max-width:360px){
    [data-path^="flash/torneo"] .mbl-event,
    [data-path*="flash/torneo"] .mbl-event{
      grid-template-columns:repeat(2,1fr);
    }
    [data-path^="flash/torneo"] .mbl-event .mbl-bet:nth-child(3),
    [data-path*="flash/torneo"] .mbl-event .mbl-bet:nth-child(3){
      grid-column:1 / -1;              /* 2+1 su schermi piccolissimi */
    }
  }

  /* KPI eroe torneo flash 2×2 (anche se HTML non ha classi: ci pensa il JS a mettere .mbl-kpi-grid/.mbl-kpi) */
  [data-path^="flash/torneo"] .mbl-kpi-grid,
  [data-path*="flash/torneo"] .mbl-kpi-grid{ margin-top:8px; }

  /* ------------------ Tabelle → Card (es. /premi.php) ------------------ */
  table, .table{ width:100%; }
  .table thead, table thead{ display:none; }
  .table, .table tbody, .table tr,
  table, table tbody, table tr{
    display:block;
  }
  .table tr, table tr{
    background: var(--c-bg-2, #0f172a);
    border:1px solid var(--c-border, rgba(255,255,255,.08));
    border-radius:12px; padding:10px; margin-bottom:10px;
  }
  .table td, table td{
    display:flex; justify-content:space-between; gap:10px;
    padding:8px 6px; border:none;
  }
  .table td::before, table td::before{
    content: attr(data-th);
    font-weight:800; color: var(--c-muted, #9fb7ff);
  }

  /* ------------------ Modali full-screen su mobile ------------------ */
  .modal .modal-card{
    width:100vw !important; max-width:100vw !important;
    height:100dvh !important; max-height:100dvh !important;
    border-radius:0 !important;
    margin:0 !important;
  }
  .modal .modal-body{ height: calc(100dvh - 110px); overflow:auto; }

  /* ------------------ Accessibilità touch ------------------ */
  a, button{ min-height: var(--mbl-touch); }
}
